# SkillsCat Trending Worker
# 定时计算 trending 分数
# 复制此文件为 wrangler.trending.toml 并填入你的配置

name = "skillscat-trending"
main = "workers/trending/src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

# Cron Trigger - 每小时计算一次 trending 分数
[triggers]
crons = ["0 * * * *"]

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "skillscat-db"
database_id = "<your-database-id>"

[vars]
# Trending 算法参数
TRENDING_DECAY_HOURS = "72"
TRENDING_STAR_WEIGHT = "1.0"
TRENDING_FORK_WEIGHT = "2.0"
TRENDING_VIEW_WEIGHT = "0.1"
